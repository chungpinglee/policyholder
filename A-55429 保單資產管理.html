<!DOCTYPE html>
<html lang="zh-TW"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title id="page-title">A-55429 ä¿å–®è³‡ç”¢ç®¡ç†</title>
    <style>
        :root {
            --bg-gradient: linear-gradient(135deg, #24355A 0%, #3B4D71 100%);
            --glass-bg: rgba(255, 255, 255, 0.95);
            --primary-blue: #46B3E6;
            --accent-purple: #8D72E1;
            --error-red: #FF6B6B;
            --success-green: #2ED573;
            --text-main: #1F2937;
            --radius: 28px;
            --transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        @keyframes float { 0%, 100% { transform: translateY(0px); } 50% { transform: translateY(-10px); } }

        body {
            font-family: "Microsoft JhengHei", "å¾®è»Ÿæ­£é»‘é«”", sans-serif;
            background: var(--bg-gradient);
            margin: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            overflow: hidden;
            position: relative;
        }

        .deco-circle {
            position: absolute;
            width: 300px;
            height: 300px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 50%;
            z-index: 0;
        }
        .c1 { top: -100px; left: -100px; }
        .c2 { bottom: -100px; right: -100px; }

        .main-card {
            width: 90%;
            max-width: 480px;
            background: var(--glass-bg);
            padding: 50px 40px;
            border-radius: var(--radius);
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
            text-align: center;
            z-index: 10;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
            animation: float 6s infinite ease-in-out;
        }

        .icon-container {
            font-size: 4rem;
            margin-bottom: 15px;
            filter: drop-shadow(0 10px 15px rgba(0,0,0,0.1));
        }

        h1 {
            color: #24355A;
            font-size: 1.7rem;
            margin: 0 0 10px 0;
            font-weight: 800;
        }

        .badge {
            display: inline-block;
            padding: 6px 20px;
            background: #E8F4FD;
            color: #46B3E6;
            border-radius: 50px;
            font-size: 13px;
            font-weight: bold;
            margin-bottom: 30px;
        }

        .upload-area {
            background: #F9FAFB;
            border: 2.5px dashed #D1D5DB;
            border-radius: 20px;
            padding: 30px 20px;
            cursor: pointer;
            transition: var(--transition);
            margin-bottom: 25px;
        }

        .upload-area:hover {
            border-color: var(--primary-blue);
            background: #F0F9FF;
        }

        .field {
            text-align: left;
            margin-bottom: 15px;
        }

        .field label {
            display: block;
            font-size: 14px;
            font-weight: 800;
            color: #4B5563;
            margin-bottom: 8px;
            padding-left: 8px;
        }

        input {
            width: 100%;
            padding: 14px 20px;
            border: 2px solid #E5E7EB;
            border-radius: 16px;
            font-size: 16px;
            box-sizing: border-box;
            outline: none;
            transition: 0.3s;
        }

        input:focus {
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 4px rgba(70, 179, 230, 0.15);
        }

        .btn-main {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #46B3E6 0%, #3A86FF 100%);
            color: white;
            border: none;
            border-radius: 18px;
            font-size: 1.1rem;
            font-weight: 800;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 10px 20px rgba(58, 134, 255, 0.3);
            margin-top: 15px;
        }

        .btn-unlock { background: linear-gradient(135deg, #2ED573 0%, #17AD4E 100%); }

        #msg {
            margin-top: 20px;
            font-size: 14px;
            font-weight: 700;
            min-height: 20px;
        }

        .err { color: var(--error-red); }
        .ok { color: var(--success-green); }

        #content-frame {
            display: none;
            width: 100vw;
            height: 100vh;
            background: white;
            position: fixed;
            top: 0; left: 0; z-index: 10000;
        }

        #progress-bar {
            width: 0%;
            height: 4px;
            background: var(--primary-blue);
            position: absolute;
            bottom: 0;
            left: 0;
            transition: width 0.3s;
        }
    </style>
</head>
<body>

    <div class="deco-circle c1"></div>
    <div class="deco-circle c2"></div>

    <div id="ui-box" class="main-card">
        <div class="icon-container">ğŸ¨</div>
        <header>
            <h1 id="title-text">A-55429 ä¿å–®è³‡ç”¢ç®¡ç†</h1>
            <div id="status-tag" class="badge">ç­‰å¾…æª”æ¡ˆåŒ¯å…¥</div>
        </header>

        <div id="upload-section">
            <div class="upload-area" id="drop-zone">
                <p id="file-label">âœ… index.html</p>
                <input type="file" id="file-input" accept=".html" style="display: none;">
            </div>
        </div>

        <div class="field">
            <label id="pass-label">è¨­å®šä½¿ç”¨è€…å¯†ç¢¼</label>
            <input type="password" id="pass-field" placeholder="è«‹è¼¸å…¥å¯†é‘°">
        </div>

        <div class="field" id="admin-field-box">
            <label>è¨­å®šç®¡ç†å“¡å¯†ç¢¼ (è¬ç”¨å¯†é‘°)</label>
            <input type="password" id="admin-pass-field" placeholder="ç®¡ç†å“¡å°ˆç”¨ï¼Œä¸å¯æ´©éœ²">
        </div>

        <button id="action-btn" class="btn-main">åŸ·è¡Œå®‰å…¨å°è£</button>

        <div id="msg" class="ok">æª”æ¡ˆè¼‰å…¥æˆåŠŸï¼Œè«‹è¨­å®šå…©çµ„å¯†ç¢¼</div>
        <div id="progress-bar" style="width: 100%;"></div>
    </div>

    <iframe id="content-frame" frameborder="0"></iframe>

    <script>
        // --- æ ¸å¿ƒå„²å­˜å®¹å™¨ ---
        const __VAULT_DATA__ = "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"; 
        const __WRAPPED_KEY_USER__ = "kEpleWSLtuXGRVQVS1sfWc0NVYLFCwnfgYGRZYxZhhZ/FbHRcwhhZ3YUCY7YnLvrTLIUFyn8QMcMuLho"; 
        const __WRAPPED_KEY_ADMIN__ = "Z4exaLvtDBskTMuYUppsckPwiv8/I4ynTPGKUj2OFMbB6x2/eyHLUPtgPJilKKKuepkXrnO3VrokeVyV"; 
        const __VAULT_SALT__ = "oZr5uBGNuvlJwdr2Q5P9lQ==";
        const __VAULT_IV__ = "DlrgpG7pIfvVOemX";

        let currentTitle = "";
        let errorCount = 0;
        let fileContent = "";

        window.onload = () => {
            const storedTitle = document.title;
            if (storedTitle && storedTitle.includes("ä¿å–®è³‡ç”¢ç®¡ç†") && storedTitle.startsWith("A-")) {
                currentTitle = storedTitle;
            } else {
                const randomID = "A-" + Math.floor(10000 + Math.random() * 90000);
                currentTitle = `${randomID} ä¿å–®è³‡ç”¢ç®¡ç†`;
            }

            document.getElementById('title-text').innerText = currentTitle;
            document.title = currentTitle;

            // åˆ¤æ–·æ˜¯å¦ç‚ºå·²åŠ å¯†ç‹€æ…‹
            if (__VAULT_DATA__) {
                document.getElementById('status-tag').innerText = "åŠ å¯†å®¹å™¨å·²é–å®š";
                document.getElementById('action-btn').innerText = "ç«‹å³è§£é–ä¸¦è®€å–";
                document.getElementById('action-btn').classList.add('btn-unlock');
                document.getElementById('upload-section').style.display = 'none';
                document.getElementById('admin-field-box').style.display = 'none'; 
                document.getElementById('pass-label').innerText = "è¼¸å…¥é€šè¡Œå¯†é‘°";
                document.querySelector('.icon-container').innerText = "ğŸ”";
            } else {
                document.getElementById('status-tag').innerText = "ç­‰å¾…æª”æ¡ˆåŒ¯å…¥";
            }
        };

        const dropZone = document.getElementById('drop-zone');
        const fileInput = document.getElementById('file-input');
        const actionBtn = document.getElementById('action-btn');

        dropZone.onclick = () => fileInput.click();
        fileInput.onchange = (e) => {
            const file = e.target.files[0];
            if (!file) return;
            const reader = new FileReader();
            reader.onload = (ev) => {
                fileContent = ev.target.result;
                document.getElementById('file-label').innerText = `âœ… ${file.name}`;
                showInfo("æª”æ¡ˆè¼‰å…¥æˆåŠŸï¼Œè«‹è¨­å®šå…©çµ„å¯†ç¢¼", "ok");
            };
            reader.readAsText(file);
        };

        function showInfo(text, type) {
            const m = document.getElementById('msg');
            m.innerText = text;
            m.className = type;
        }

        actionBtn.onclick = async () => {
            if (errorCount >= 3) return;
            
            const pwd = document.getElementById('pass-field').value;
            if (!pwd) { showInfo("è«‹å¡«å¯«å¯†é‘°", "err"); return; }

            if (__VAULT_DATA__) {
                // --- è§£å¯†æ¨¡å¼ ---
                try {
                    const data = await decryptVault(pwd);
                    render(data);
                } catch (e) {
                    errorCount++;
                    showInfo(`å¯†é‘°ä¸æ­£ç¢º (å‰©é¤˜ ${3 - errorCount} æ¬¡å˜—è©¦)`, "err");
                    if (errorCount >= 3) actionBtn.disabled = true;
                }
            } else {
                // --- åŠ å¯†æ¨¡å¼ ---
                const adminPwd = document.getElementById('admin-pass-field').value;
                if (!adminPwd) { showInfo("è«‹è¨­å®šç®¡ç†å“¡å¯†ç¢¼", "err"); return; }
                if (!fileContent) { showInfo("å°šæœªåŒ¯å…¥æª”æ¡ˆ", "err"); return; }
                
                try {
                    await encryptVault(fileContent, pwd, adminPwd);
                } catch (e) {
                    showInfo("åŸ·è¡Œå¤±æ•—ï¼š" + e.message, "err");
                }
            }
        };

        async function encryptVault(content, userPwd, adminPwd) {
            document.getElementById('progress-bar').style.width = '50%';
            const salt = crypto.getRandomValues(new Uint8Array(16));
            const iv = crypto.getRandomValues(new Uint8Array(12));
            const dek = crypto.getRandomValues(new Uint8Array(32)); 
            
            const encrypted = await encryptText(content, dek, iv);
            
            const userWrapped = await wrap(dek, userPwd, salt);
            const adminWrapped = await wrap(dek, adminPwd, salt);
            
            document.getElementById('progress-bar').style.width = '100%';
            save(encrypted, userWrapped, adminWrapped, salt, iv);
            showInfo("åŠ å¯†æˆåŠŸï¼æª”æ¡ˆå·²ç”¢ç”Ÿä¸¦ä¸‹è¼‰ã€‚", "ok");
        }

        async function decryptVault(pwd) {
            const salt = b64ToU8(__VAULT_SALT__);
            const iv = b64ToU8(__VAULT_IV__);
            
            try {
                const dek = await unwrap(__WRAPPED_KEY_USER__, pwd, salt);
                return await decryptText(__VAULT_DATA__, dek, iv);
            } catch (e) {
                try {
                    const dek = await unwrap(__WRAPPED_KEY_ADMIN__, pwd, salt);
                    return await decryptText(__VAULT_DATA__, dek, iv);
                } catch (e2) {
                    throw new Error("Invalid password");
                }
            }
        }

        // --- åŠ å¯†å·¥å…·åº« (AES-GCM 256 + PBKDF2) ---
        // å·²ä¾ç…§éœ€æ±‚å°‡ iterations æ›´æ–°ç‚º 500,000 æ¬¡
        async function getKek(pwd, salt) {
            const base = await crypto.subtle.importKey("raw", new TextEncoder().encode(pwd), "PBKDF2", false, ["deriveKey"]);
            return crypto.subtle.deriveKey(
                { name: "PBKDF2", salt, iterations: 500000, hash: "SHA-256" }, 
                base, 
                { name: "AES-GCM", length: 256 }, 
                false, 
                ["encrypt", "decrypt"]
            );
        }

        async function wrap(dek, pwd, salt) {
            const kek = await getKek(pwd, salt);
            const iv = crypto.getRandomValues(new Uint8Array(12));
            const enc = await crypto.subtle.encrypt({ name: "AES-GCM", iv }, kek, dek);
            const res = new Uint8Array(12 + enc.byteLength); res.set(iv); res.set(new Uint8Array(enc), 12);
            return u8ToB64(res);
        }

        async function unwrap(b64, pwd, salt) {
            const raw = b64ToU8(b64);
            const dec = await crypto.subtle.decrypt({ name: "AES-GCM", iv: raw.slice(0, 12) }, await getKek(pwd, salt), raw.slice(12));
            return new Uint8Array(dec);
        }

        async function encryptText(text, key, iv) {
            const k = await crypto.subtle.importKey("raw", key, "AES-GCM", false, ["encrypt"]);
            const enc = await crypto.subtle.encrypt({ name: "AES-GCM", iv }, k, new TextEncoder().encode(text));
            return u8ToB64(new Uint8Array(enc));
        }

        async function decryptText(b64, key, iv) {
            const k = await crypto.subtle.importKey("raw", key, "AES-GCM", false, ["decrypt"]);
            const dec = await crypto.subtle.decrypt({ name: "AES-GCM", iv }, k, b64ToU8(b64));
            return new TextDecoder().decode(dec);
        }

        function save(data, uK, aK, salt, iv) {
            let html = document.documentElement.outerHTML;
            const out = `<!DOCTYPE html>\n` + html
                .replace('const __VAULT_DATA__ = "";', `const __VAULT_DATA__ = "${data}";`)
                .replace('const __WRAPPED_KEY_USER__ = "";', `const __WRAPPED_KEY_USER__ = "${uK}";`)
                .replace('const __WRAPPED_KEY_ADMIN__ = "";', `const __WRAPPED_KEY_ADMIN__ = "${aK}";`)
                .replace('const __VAULT_SALT__ = "";', `const __VAULT_SALT__ = "${u8ToB64(salt)}";`)
                .replace('const __VAULT_IV__ = "";', `const __VAULT_IV__ = "${u8ToB64(iv)}";`);
            const b = new Blob([out], { type: "text/html" });
            const a = document.createElement("a"); a.href = URL.createObjectURL(b); a.download = `${currentTitle}.html`; a.click();
        }

        function render(html) {
            document.getElementById('ui-box').style.display = 'none';
            const f = document.getElementById('content-frame'); f.style.display = 'block'; f.srcdoc = html;
        }

        function u8ToB64(a) { return btoa(String.fromCharCode(...a)); }
        function b64ToU8(s) { return new Uint8Array(atob(s).split("").map(c => c.charCodeAt(0))); }
    </script>

</body></html>